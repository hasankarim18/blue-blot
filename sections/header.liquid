<header>
  <div class="relative bg-white">
    <div class="mx-auto px-4 sm:px-6">
      <div class="flex justify-center items-center py-6 md:justify-start md:space-x-10">
        <!-- STORE NAME / STORE LOGO -->
        <div class="flex justify-start lg:flex-1 truncate">
          <a href="{{ routes.root_url }}">
            <h1 class="text-xl font-bold truncate">
              {% if settings.logo != blank %}
                <img
                  src="{{ settings.logo |  image_url  }}"
                  width=""
                  height="">
              {% else %}
                {{ shop.name }}
              {% endif %}
            </h1>
          </a>
        </div>

        <!-- NAVIGATION MENU -->
        <nav class="hidden md:flex space-x-10 ">
          {% for link in section.settings.menu.links %}
            {% if link.links.size > 0 %}
              <div data-rotate-wrapper class="relative pareant-menu-item">
                <button type="button" class="inline-flex items-center text-base text-gray-500 hover:text-gray-900">
                  <span>
                    {{ link.title }}
                  </span>
                  {% render 'add'
                    , class: 'font-semibold text-2xl h-6 w-6  leading-none  '
                    , attr: 'data-rotate-180' %}

                </button>
                <ul class="absolute left-0 top-[100%] child-menu-links ">
                  {% for childlink in link.links %}
                    <li class="mb-2  ">
                      <a class="child-menu-link" href="{{ childlink.url }}">{{ childlink.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            {% else %}
              <div class="relative">
                <a href="#" class="text-base text-gray-500 hover:text-gray-900">{{ link.title }}</a>
              </div>
            {% endif %}
          {% endfor %}
        </nav>

        <div class="hidden md:flex items-center justify-end md:flex-1 space-x-5">
          <a href="{{ routes.cart_url }}" class="whitespace-nowrap text-base text-gray-500 hover:text-gray-900">
            {% render 'shopping-bag'
              , class: 'w-6 h-6' %}
          </a>
          {% if shop.customer_accounts_enabled %}
            <a href="{{ routes.account_login_url }}" class="badge-success badge-sm text-sm rounded-md">Login</a>
            <a href="{{ routes.account_register_url }}" class="badge-error badge-sm text-sm rounded-md">Register</a>
          {% endif %}

        </div>
      </div>
    </div>
  </div>
</header>

{% schema %}
  {
    "name": "header",
    "tag": "section",
    "settings": [
      {
        "type": "link_list",
        "id": "menu",
        "default": "main-menu",
        "label": "Header Menu"
      }
    ],
    "presets": [
      {
        "name": "header"
      }
    ]
  }
{% endschema %}